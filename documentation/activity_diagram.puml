@startuml
|Frontend|
start
:Open Application;
:Enter credentials;
:Click Login;
-> Backend: POST /api/auth/login
|Backend|
:Authenticate user;
if (valid?) then (yes)
  :Generate token;
  --> Frontend: 200 + token
  |Frontend|
  :Store token; 
  :Show Dashboard;
  :Click "Create Safety Request";
  :Fill Request Form;
  :Submit Request;
  -> Backend: POST /api/safety-requests
  |Backend|
  :Validate request payload;
  if (valid?) then (ok)
    :Persist request (DB);
    --> Frontend: 201 Created
  else (invalid)
    --> Frontend: 400 Validation errors
  endif
  |Frontend|
  :Show success or validation errors;
  :User waits for review;
  -> Backend: GET /api/safety-requests?status=pending (Admin)
  |Backend|
  :Admin retrieves pending requests;
  :Admin reviews request;
  if (approve?) then (yes)
    :Update status = APPROVED;
    --> Frontend: Notify user of approval
  else (no)
    :Update status = REJECTED;
    --> Frontend: Notify user of rejection
  endif
  |Frontend|
  :User views updated request status;
else (no)
  --> Frontend: 401 Unauthorized (show error)
endif
stop
@enduml
